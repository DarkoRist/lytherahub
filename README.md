# LytheraHub AI

**Your Business on Autopilot**

One AI-powered dashboard that connects your email, calendar, invoices, and clients. Stop switching tabs. Start running your business.

---

## The Problem

Small business owners spend **60 %** of their time on admin — switching between Gmail, Google Calendar, spreadsheets, Slack, and invoicing tools. Context is lost, follow-ups slip through the cracks, and there's no single view of how the business is doing.

## The Solution

LytheraHub connects all your business tools into a single AI-powered command center. It classifies emails, prepares you for meetings, tracks invoices, manages your client pipeline, and generates reports — all automatically.

---

## Features

| Feature | Description |
|---|---|
| **Smart Inbox** | AI classifies every email (urgent / client / invoice / newsletter), generates one-line summaries, and drafts replies in your tone. |
| **AI Calendar** | Meeting prep briefs with client history, open invoices, and suggested talking points — generated the night before. |
| **Invoice Tracker** | Track outstanding and overdue invoices, send AI-written payment reminders, and see a 30-day cash flow forecast. |
| **CRM Pipeline** | Drag-and-drop client pipeline (Lead → Won), AI-enriched company profiles, and activity timelines. |
| **AI Reports** | Daily briefings, weekly summaries, and monthly business reviews — all generated by AI with charts and insights. |
| **Automations** | Powered by n8n — invoice reminders, meeting prep, lead onboarding, Slack notifications, and more. |
| **Natural Language Command Bar** | Type "How much revenue this month?" or "Schedule a meeting with Hans" and let AI handle it. |
| **AI Chat Assistant** | Always-available chat sidebar — ask anything about your business data and get answers with action buttons. |
| **Smart Alerts** | Proactive notifications for overdue invoices, stale leads, unanswered emails, and anomalies. |
| **Task Manager** | Kanban board with auto-generated tasks from emails, meetings, and invoices. |
| **Analytics** | Revenue charts, pipeline funnels, productivity metrics, and AI-generated business insights. |

---

## Tech Stack

### Backend
![Python](https://img.shields.io/badge/Python-3.11-blue) ![FastAPI](https://img.shields.io/badge/FastAPI-0.104-009688) ![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-4169E1) ![Redis](https://img.shields.io/badge/Redis-7-DC382D) ![Celery](https://img.shields.io/badge/Celery-5-37814A)

- **FastAPI** (async, auto-docs)
- **PostgreSQL** + SQLAlchemy (async, multi-tenant)
- **Redis** (caching, sessions, rate limiting)
- **Celery** (background task queue)
- **Claude API** (AI classification, summaries, reports)
- **Google OAuth 2.0** + JWT authentication

### Frontend
![React](https://img.shields.io/badge/React-18-61DAFB) ![Vite](https://img.shields.io/badge/Vite-5-646CFF) ![Tailwind](https://img.shields.io/badge/Tailwind-3-06B6D4)

- **React 18** + Vite
- **Tailwind CSS** + shadcn-style components
- **React Query** (data fetching + caching)
- **Recharts** (charts and visualizations)
- **WebSocket** (real-time updates)
- **Dark mode** with system preference detection

### Integrations
- Gmail API, Google Calendar, Google Drive, Google Sheets
- Slack API (bot + slash commands)
- Stripe (subscription billing)
- n8n (workflow automation engine)

### Infrastructure
- **Docker Compose** (7 services: backend, frontend, PostgreSQL, Redis, Celery worker, Celery beat, n8n)
- **Nginx** (reverse proxy, static file serving)
- **GitHub Actions** CI/CD

---

## Quick Start

### 1. Clone and configure

```bash
git clone https://github.com/your-username/lytherahub.git
cd lytherahub
cp backend/.env.example backend/.env
# Edit backend/.env with your API keys (or skip for demo mode)
```

### 2. Start with Docker

```bash
# Full stack (requires API keys configured)
docker-compose up --build

# Demo mode (no API keys needed!)
docker-compose -f docker-compose.yml -f docker-compose.demo.yml up --build
```

### 3. Open the app

- **Frontend**: http://localhost:3000
- **API Docs**: http://localhost:8000/docs
- **n8n Workflows**: http://localhost:5678

Click **"Try Demo"** on the landing page for instant access with pre-loaded sample data.

---

## Demo Mode

LytheraHub includes a full demo mode that works **without any API keys or external services**. It uses:

- SQLite instead of PostgreSQL
- Pre-loaded sample data (50 emails, 15 clients, 20 invoices, meetings, reports, etc.)
- Mock AI responses that mirror real functionality
- Simulated WebSocket events for real-time feel

Perfect for evaluation, development, and portfolio demos.

```bash
make demo
```

---

## Development

### Backend

```bash
cd backend
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate on Windows
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000
```

### Frontend

```bash
cd frontend
npm install
npm run dev
```

### Testing

```bash
# Backend tests
cd backend && pytest tests/ -v

# Frontend tests
cd frontend && npm test
```

### Makefile shortcuts

```bash
make dev       # Start backend + frontend in dev mode
make demo      # Start in demo mode (Docker)
make test      # Run all tests
make build     # Production Docker build
make lint      # Lint backend + frontend
```

---

## Project Structure

```
lytherahub/
├── backend/
│   ├── app/
│   │   ├── main.py              # FastAPI app + WebSocket
│   │   ├── config.py            # Settings
│   │   ├── auth/                # Google OAuth + JWT
│   │   ├── models/              # SQLAlchemy models + Pydantic schemas
│   │   ├── routers/             # API endpoints (15 routers)
│   │   ├── services/            # Business logic + AI + integrations
│   │   ├── tasks/               # Celery background tasks
│   │   └── n8n_workflows/       # Automation templates
│   └── tests/
├── frontend/
│   └── src/
│       ├── pages/               # 11 page components
│       ├── components/          # 30+ reusable components
│       ├── hooks/               # Custom React hooks
│       ├── context/             # Auth, Theme, Notifications
│       └── api/                 # Axios client + WebSocket
├── demo/                        # Sample data for demo mode
├── docs/                        # Documentation
├── docker-compose.yml
└── docker-compose.demo.yml
```

---

## API Endpoints

Full API documentation is available at `/docs` when the backend is running. Key endpoints:

| Area | Endpoints |
|---|---|
| Auth | `GET /api/auth/google`, `GET /api/auth/demo`, `GET /api/auth/me` |
| Dashboard | `GET /api/dashboard/briefing`, `POST /api/dashboard/command` |
| Emails | `GET /api/emails`, `POST /api/emails/{id}/draft-reply` |
| Calendar | `GET /api/calendar/events`, `POST /api/calendar/events/{id}/prep` |
| Invoices | `GET /api/invoices`, `GET /api/invoices/forecast` |
| Clients | `GET /api/clients/pipeline`, `POST /api/clients/{id}/enrich` |
| Reports | `GET /api/reports/briefing`, `POST /api/reports/generate/{type}` |
| Analytics | `GET /api/analytics/revenue`, `GET /api/analytics/insights` |
| Chat | `POST /api/chat` |
| Automations | `GET /api/automations`, `POST /api/automations/{id}/run` |

See [docs/API.md](docs/API.md) for the complete reference.

---

## Architecture

```
[Browser] <---> [Nginx :3000]
                    │
          ┌─────────┴──────────┐
          │                    │
   [React SPA]         [FastAPI :8000]
                          │
              ┌───────────┼───────────┐
              │           │           │
        [PostgreSQL]   [Redis]    [n8n :5678]
                          │
                    [Celery Workers]
                          │
              ┌───────────┼───────────┐
              │           │           │
         [Gmail API] [Calendar] [Claude AI]
```

See [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md) for detailed system design.

---

## Pricing Plans

| | Free | Pro | Business |
|---|---|---|---|
| Price | EUR 0/mo | EUR 49/mo | EUR 149/mo |
| Email accounts | 1 | Unlimited | Unlimited |
| Clients | 5 | Unlimited | Unlimited |
| AI reports | Basic | Full | Full + Custom |
| Integrations | Gmail + Calendar | All | All + API |
| Automations | 3 | Unlimited | Unlimited + Custom |
| Support | Community | Email | Priority |

---

## Roadmap

- [ ] Notion integration
- [ ] WhatsApp Business API
- [ ] Xero / QuickBooks accounting
- [ ] HubSpot CRM sync
- [ ] Discord bot
- [ ] Mobile app (React Native)
- [ ] Multi-user teams with roles
- [ ] Custom AI training on business data

---

## License

MIT License. See [LICENSE](LICENSE) for details.

---

Built with FastAPI, React, and Claude AI.
